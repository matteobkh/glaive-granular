# Glaive Granular Sampler
<img width="462" alt="Glaive Granular Interface" src="https://github.com/user-attachments/assets/04b4fb05-a768-40e2-a27a-d03d84c132e4" />

Scans working directory for audio files, only supports WAV, FLAC and MP3. Once one is selected from the dropdown menu the sampler becomes visibile. `seemyface.wav` is a vocal sample generated by AI and is included for testing. FLAC and MP3 files seem to open normally but sound a little bit "weird", might just be the sound of the grains and will require some testing.
## Building
Current makefile works for MacOS (10.6+) and Linux. Clone repo and submodules with `git clone --recurse-submodules https://github.com/matteobkh/glaive-granular`. Then run `make install-portaudio` (or just `cd libs/portaudio && ./configure && make`) then just `make`. Make sure SDL2 is installed and your compiler supports C++20.
## User manual
### Overview
Glaive Granular is a granular synth/sampler. It loads an audio file and plays back "grains" of audio at set intervals.
### Granular controls
- **Hopsize**: size (in samples) of the "blocks" the audio data gets split into
- **Density**: number of grains the hopsize is split into that can play at the same time
- **Speed**: playback speed, sets the rate at which the grains are played back, 2x speed means playback will take twice as long, etc..
- **Grain size**: size of each grain as a fraction of hopsize
### Randomizers
All randomizers use normal distribution curve
- **Jitter**: introduces randomness into the timing of the playback of each grain
- **Pan**: randomly pans each grain left or right by a random amount
- **Spread**: increase the chance of taking a grain from later in the sample relative to the current playback index
### Pitch controls
- **Semitones**: pitch grains up or down by up to 24 semitones (2 octaves)
- **Cents**: fine tune the pitch of the grains up or down 100 cents (1 semitone)
### Keyboard functions
- **Space bar**: press to play or pause playback
- **Ctrl/Cmd⌘**: hold down to activate fine tuning knobs
## To Do
- Refine GUI
- ~Pitch shifting option ✅~
- ~_Improve_ pitch shifting, locked to semitones + fine tuning knob~
- Reverse grain probability
- ~Fix time jitter (higher values cause clicks) ✅~
- Add sample chopping
- Add MIDI capability
- Fix spread knob behavior, very small increments are very noticeable so I'd like it to behave logarithmically but still be able to go to zero, not 0.1
- Reverse playback (negative playback speed)
